{% extends "base.html" %}

{% block content %}
    <div class="container">
        <div class="form-container">
            
            <p>Please Type Data According to Your Till Report</p>

            <table>
                <form action="/submit_wednesday" method="post">
                    <tr>
                        <th></th>
                        <th>Total Income</th>
                        <th>Highest Speed</th>
                        <th>Best Selling Item</th>
                        <th>Worst Selling Item</th>
                        <th>Average Basket Spend</th>
                        <th>Staff MVP</th>
                        <th></th>
                    </tr>
                    <tr>
                        <th>Input Data</th>
                        <th><input type="text" id="total_income" name="total_income_wednesday"></th>
                        <th><input type="text" id="highest_spend" name="highest_spend_wednesday"></th>
                        <th><input type="text" id="best_selling_item" name="best_selling_item_wednesday"></th>
                        <th><input type="text" id="worst_selling_item" name="worst_selling_item_wednesday"></th>
                        <th><input type="text" id="avg_basket_spend" name="avg_basket_spend_wednesday"></th>
                        <th><input type="text" id="staff_mvp" name="staff_mvp_wednesday"> </th>
                        <th><button type="submit">Submit Data</button></th>
                    </tr>
                </form>
            </table>
        </div>

        <br>
        <hr>

        {% if week_data %}
            <div>
                <p>Here's What Happened Today.</p>

                <table>
                    <tr>
                        <th>Total Income</th>
                        <th>Highest Speed</th>
                        <th>Best Selling Item</th>
                        <th>Worst Selling Item</th>
                        <th>Average Basket Spend</th>
                        <th>Staff MVP</th>
                        <th></th>
                    </tr>

                    {% for data in week_data %}
                    <tr>
                        <td>{{ data.total_income }}</td>
                        <td>{{ data.highest_spend }}</td>
                        <td>{{ data.best_selling_item }}</td>
                        <td>{{ data.worst_selling_item }}</td>
                        <td>{{ data.avg_basket_spend }}</td>
                        <td>{{ data.staff_mvp }}</td>
                        <td></td>
                    </tr>
                    <tr>
                        <form action="/edit_wednesday/{{ data.id }}" method="post"></form>
                            <td>
                                <input type="text" name="edit_total_income" placeholder="Edit Data">
                            </td>
                            <td>
                                <input type="text" name="edit_highest_spend" placeholder="Edit Data">
                            </td>
                            <td>
                                <input type="text" name="edit_best_selling_item" placeholder="Edit Data">
                            </td>
                            <td>
                                <input type="text" name="edit_worst_selling_item" placeholder="Edit Data">
                            </td>
                            <td>
                                <input type="text" name="edit_avg_basket_spend" placeholder="Edit Data">
                            </td>
                            <td>
                                <input type="text" name="edit_staff_mvp" placeholder="Edit Data">
                            </td>
                            <td>
                                <form action="/edit_wednesday/{{ data.id }}" method="post"></form>
                            </td>
                            <td>
                                <button type="submit">Update Data</button>
                            </td>
                        </form>
                    </tr>
                </table>
                {% endfor %}
            </div>

    <br>
    <hr>

            <div class="charts-container">
                <img class="chart" src="{{ url_for('static', filename='Monday-Drink.png') }}" alt="Drinks">
                <img class="chart" src="{{ url_for('static', filename='Monday-Food.png') }}" alt="Food">
                <img class="chart" src="\static\images\Payment Methods used Wednesday.png" alt="Payment Methods used Wednesday - Pie Chart">
            </div>
        {% endif %}
</div>
{% endblock %}